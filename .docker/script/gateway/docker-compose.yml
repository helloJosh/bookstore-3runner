services:
  app-gateway:
    image: openjdk:21
    container_name: app-gateway
    volumes:
      - ./script/gateway/config:/config
      - ./script/gateway/app:/app
    working_dir: /app
    environment:
      - TZ=Asia/Seoul
    command: >
      bash -c "java -jar /app/gateway.jar --spring.profiles.active=dev"
    depends_on:
      - mysql-bookstore
      - redis
    network_mode: host
